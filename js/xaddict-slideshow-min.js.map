{"version":3,"sources":["xaddict-slideshow.js"],"names":["mod","x","y","nextSlide","slides","this","index","currentIndex","i","length","classList","remove","prev","next","add","individualHeights","style","height","offsetHeight","initializeSlideshow","slideshow","slideshowInitialized","children","getAttribute","slideHeights","slideHeight","push","slideshowHeight","Math","max","apply","bind","delay","parseInt","timeout","setTimeout","timer","setInterval","slideshows","document","querySelectorAll"],"mappings":"YAKA,SAASA,KAAIC,EAAGC,GACf,OAASD,EAAIC,EAAKA,GAAKA,EAexB,QAASC,aAGR,IAAK,GAFDC,GAASC,KAAKD,OACdE,EAAQD,KAAKE,aACRC,EAAI,EAAGA,EAAIJ,EAAOK,OAAQD,IAElC,GADAJ,EAAOI,GAAGE,UAAUC,OAAO,SAAU,OAAQ,QACzCH,IAAMF,EAAO,CAChB,GAAIM,GAAOZ,IAAIM,EAAQ,EAAGF,EAAOK,QAC7BI,EAAOb,IAAIM,EAAQ,EAAGF,EAAOK,OACjCL,GAAOQ,GAAMF,UAAUI,IAAI,QAC3BV,EAAOE,GAAOI,UAAUI,IAAI,UAC5BV,EAAOS,GAAMH,UAAUI,IAAI,QACvBT,KAAKU,oBACRV,KAAKW,MAAMC,OAASb,EAAOE,GAAOY,aAAe,MAIpDb,KAAKE,cAAgBD,EAAQ,GAAKD,KAAKD,OAAOK,OAM/C,QAASU,qBAAoBC,GAK5B,GAJAA,EAAUC,sBAAuB,EACjCD,EAAUhB,OAASgB,EAAUE,SAC7BF,EAAUb,aAAe,EACzBa,EAAUL,kBAA+D,eAA1CK,EAAUG,aAAa,eACjDH,EAAUL,kBASdK,EAAUJ,MAAMC,OAASG,EAAUhB,OAAOgB,EAAUb,cAAcW,aAAe,SAThD,CAEjC,IAAK,GADDM,MACKhB,EAAI,EAAGA,EAAIY,EAAUhB,OAAOK,OAAQD,IAAK,CACjD,GAAIiB,GAAcL,EAAUhB,OAAOI,GAAGU,YACtCM,GAAaE,KAAKD,GAEnBE,gBAAkBC,KAAKC,IAAIC,MAAMF,KAAMJ,GACvCJ,EAAUJ,MAAMC,OAASU,gBAAkB,KAK5CxB,UAAU4B,KAAKX,IACf,IAAIY,GAAQC,SAASb,EAAUG,aAAa,cAAe,KAAO,EAC9DW,EAAUD,SAASb,EAAUG,aAAa,gBAAiB,KAAO,GACtEY,YAAW,WACVf,EAAUgB,MAAQC,YAAYlC,UAAU4B,KAAKX,GAAYc,IACvDF,GAtDJ,IAAK,GADDM,YAAaC,SAASC,iBAAiB,cAClChC,EAAI,EAAGA,EAAI8B,WAAW7B,OAAQD,IAAK,CAE3CW,oBADgBmB,WAAW9B","file":"xaddict-slideshow-min.js","sourcesContent":["/** A function to make modulo in JS behave!\n* @param {Number} x the first integer\n* @param {Number} y the second integer\n* @return {Number} the modulo on x % y\n*/\nfunction mod(x, y) {\n\treturn ((x % y) + y) % y;\n}\n\n// run through all slideshows on the page\nvar slideshows = document.querySelectorAll('.slideshow');\nfor (var i = 0; i < slideshows.length; i++) {\n\tvar slideshow = slideshows[i];\n\tinitializeSlideshow(slideshow);\n}\n\n/**\n* nextSlide() progresses the slideshow one slide\n* is called with nextSlide.bind(slideshow)()\n* or in a loop with nextSlide.bind(slideshow)\n*/\nfunction nextSlide() {\n\tvar slides = this.slides;\n\tvar index = this.currentIndex;\n\tfor (var i = 0; i < slides.length; i++) {\n\t\tslides[i].classList.remove('active', 'prev', 'next');\n\t\tif (i === index) {\n\t\t\tvar prev = mod(index - 1, slides.length);\n\t\t\tvar next = mod(index + 1, slides.length);\n\t\t\tslides[prev].classList.add('next');\n\t\t\tslides[index].classList.add('active');\n\t\t\tslides[next].classList.add('next');\n\t\t\tif (this.individualHeights) {\n\t\t\t\tthis.style.height = slides[index].offsetHeight + 'px';\n\t\t\t}\n\t\t}\n\t}\n\tthis.currentIndex = (index + 1) % this.slides.length;\n}\n\n/** set the initial variables for a slideshow\n* @param {HTMLElement} slideshow the slideshow element to initialize on\n*/\nfunction initializeSlideshow(slideshow) {\n\tslideshow.slideshowInitialized = true;\n\tslideshow.slides = slideshow.children;\n\tslideshow.currentIndex = 0;\n\tslideshow.individualHeights = (slideshow.getAttribute('data-height') === 'individual');\n\tif (!slideshow.individualHeights) {\n\t\tvar slideHeights = [];\n\t\tfor (var i = 0; i < slideshow.slides.length; i++) {\n\t\t\tvar slideHeight = slideshow.slides[i].offsetHeight;\n\t\t\tslideHeights.push(slideHeight);\n\t\t}\n\t\tslideshowHeight = Math.max.apply(Math, slideHeights);\n\t\tslideshow.style.height = slideshowHeight + 'px';\n\t} else {\n\t\tslideshow.style.height = slideshow.slides[slideshow.currentIndex].offsetHeight + 'px';\n\t}\n\n\tnextSlide.bind(slideshow)();\n\tvar delay = parseInt(slideshow.getAttribute('data-delay'), 10) || 0;\n\tvar timeout = parseInt(slideshow.getAttribute('data-timeout'), 10) || 5000;\n\tsetTimeout(function() {\n\t\tslideshow.timer = setInterval(nextSlide.bind(slideshow), timeout);\n\t}, delay);\n}\n"]}